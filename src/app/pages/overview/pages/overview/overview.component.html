<app-overview-toolbar class="toolbar" (menuItemEventEmitter)="onMenuItemClicked($event)"></app-overview-toolbar>

<div class="content">

  <mat-stepper orientation="vertical" [linear]="isLinear" #stepper>
    <ng-template matStepperIcon="edit">
      <mat-icon>done</mat-icon>
    </ng-template>

    <mat-step [stepControl]="sportsFormGroup!">
      <form [formGroup]="sportsFormGroup!">
        <ng-template matStepLabel>Was macht dein Verein?</ng-template>
        <app-sports-selection
          [itemsList]="sportsList"
          [backgroundColor]="sportsBackgroundColor"
          [textColor]="sportsTextColor"
          (itemsSelectedEventEmitter)="onSportsSelected($event)"></app-sports-selection>
        <div class="button-container flexcontainer">
          <div class="flexbox"></div>
          <button mat-button matStepperNext color="accent" *ngIf="sports.length === 0">
            weiter ohne Auswahl
          </button>
          <button mat-button matStepperNext color="accent" *ngIf="sports.length > 0">
            weiter
          </button>
          <div class="flexbox" *ngIf="media > mediaType.SMALL"></div>
        </div>
      </form>
    </mat-step>

    <mat-step [stepControl]="membersFormGroup!">
      <form [formGroup]="membersFormGroup!">
        <ng-template matStepLabel>Wie viele Mitglieder hat dein Verein?</ng-template>
        <mat-form-field appearance="fill">
          <mat-label>Mitglieder</mat-label>
          <input matInput type="number" placeholder="0" formControlName="memberControl" required [(ngModel)]="members">
        </mat-form-field>
        <div class="flexcontainer">
          <button mat-button matStepperPrevious color="primary">zur端ck</button>
          <div class="flexbox"></div>
          <button mat-button matStepperNext color="primary">weiter</button>
          <div class="flexbox" *ngIf="media > mediaType.SMALL"></div>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="stateFormGroup!">
      <form [formGroup]="stateFormGroup!">
        <ng-template matStepLabel>In welchem Bundesland agiert dein Verein?</ng-template>
        <mat-form-field appearance="fill">
          <mat-select placeholder="Bundesland" formControlName="federalStateControl" required
                      [(ngModel)]="federalState">
            <mat-option [value]="federalState" *ngFor="let federalState of federalStatesList">
              <span class="state-logo-wrapper">
                  <img class="state-logo" alt="" [src]="getFederalStateLogo(federalState)"/>
              </span>
              {{ federalState }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="flexcontainer">
          <button mat-button matStepperPrevious color="primary">zur端ck</button>
          <div class="flexbox"></div>
          <button mat-button matStepperNext color="primary" (click)="onFinalStepReached()">weiter</button>
          <div class="flexbox" *ngIf="media > mediaType.SMALL"></div>
        </div>
      </form>
    </mat-step>
    <mat-step (interacted)="onFinalStepReached()">
      <ng-template matStepLabel>Fertig!</ng-template>
      <p>Der optimale Mitgliedsbeitrag f端r deinen Verein ist</p>
      <h1 class="suggested-fee">0 Euro</h1>

      <div class="flexcontainer">
        <button mat-button matStepperPrevious color="primary">zur端ck</button>
        <div class="flexbox"></div>
        <button mat-button (click)="stepper.reset()" color="primary">von vorn beginnen</button>
        <div class="flexbox" *ngIf="media > mediaType.SMALL"></div>
      </div>
    </mat-step>
  </mat-stepper>

</div>
